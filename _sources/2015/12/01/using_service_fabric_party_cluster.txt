=====================================
 Using  Service Fabric Party Cluster
=====================================

11/18 に、Azure Service Fabric の Public Preview が始まり、今までローカル環境でしか動かなかった Service Fabric が Azure上でも動かせるようになりました。アナウンスは、このあたり `Service Fabric Enters Public Preview <http://blogs.msdn.com/b/azureservicefabric/archive/2015/11/18/service-fabric-enters-public-preview.aspx>`_

新Portalから作成したり、 `Setting up a Service Fabric Cluster from the Azure Portal <https://azure.microsoft.com/en-us/documentation/articles/service-fabric-cluster-creation-via-portal/>`_ 、Powershell から Azure Resource Manager Template 利用したり `Setting up a Service Fabric Cluster using an ARM Template <https://azure.microsoft.com/en-us/documentation/articles/service-fabric-cluster-creation-via-arm/>`_ 、Visual Studio の Azure Resource Group project を使ったり `Set up a Service Fabric cluster using Visual Studio <https://azure.microsoft.com/en-us/documentation/articles/service-fabric-cluster-creation-via-visual-studio/>`_ など、今風のAzureらしい方法でクラスターを作成することができます。

**が** なかなか手順が長い、シークレットを KeyVault に保存している関係で（セキュアで良いですが）、気軽に試すには少々複雑なシロモノになっています。ローカルだと、VSからF5一発で動くのですが…

Azure Service Fabric Party Cluster
==================================
とりあえず、Azure 上で動かしてみたいという人のために。お試しクラスタ環境として、Party Cluster というのが用意されています。こんなやつ。`http://aka.ms/tryservicefabric <http://aka.ms/tryservicefabric>`_

.. image:: screen01.png


2時間立つとクラスタ環境ごと消されてしまいますが、その間はメールアドレだけあれば無料で使えます。


使い方
======
JOINを押すと、メールアドレスと CAPTCHA の入力画面が出ます。「Thanks for trying out Microsoft Azure Service Fabric!」と書かれたメールが来ます


「Cluster connection address:」が ClusterConnectionParameters の ConnectionEndpoint 属性に設定するエンドポイントになります。

Service Fabric Application Projectの、PublishProfile/Cloud.xml

.. image: vsscreen04.png


を下記のように直します。




-------- Package: Project: WebReferenceApplication succeeded, Time elapsed: 00:00:05.7399823 --------
2>Started executing script 'Deploy-FabricApplication.ps1'.
2>. 'C:\GitHub\service-fabric-dotnet-web-reference-app\ReferenceApp\WebReferenceApplication\Scripts\Deploy-FabricApplication.ps1' -ApplicationPackagePath 'C:\GitHub\service-fabric-dotnet-web-reference-app\ReferenceApp\WebReferenceApplication\pkg\Debug' -PublishProfileFile 'C:\GitHub\service-fabric-dotnet-web-reference-app\ReferenceApp\WebReferenceApplication\PublishProfiles\Cloud.xml' -DeployOnly:$false -UnregisterUnusedApplicationVersionsAfterUpgrade $false -ForceUpgrade $false -OverwriteBehavior 'SameAppTypeAndVersion' -ErrorAction Stop
2>Copying application to image store...





Azure Service Fabric
Party Clusters


.. author:: default
.. categories:: none
.. tags:: none
.. comments::
