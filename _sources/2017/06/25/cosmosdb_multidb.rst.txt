==========================================
Cosmos DBのマルチモデル、マルチAPIサポート
==========================================

先日(2017/6/16)、 `第6回 Tokyo Jazug Night
<https://jazug.connpass.com/event/57357/>`_ で、Cosmos DBのマルチモデ
ル、マルチAPIサポートについて話をしてきました。急遽話をすることになっ
たので、少々不足している部分などもあり。補足を兼ねて書いておきます。

* 当日資料:Cosmos DB 入門 multi model multi API編

.. raw:: html

   <iframe src="//www.slideshare.net/slideshow/embed_code/key/5aD1vn1SIbi4Lz" width="595" height="485" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;" allowfullscreen> </iframe> <div style="margin-bottom:5px"> <strong> <a href="//www.slideshare.net/takekazuomi/cosmos-db-multi-model-multi-api" title="Cosmos DB 入門 multi model multi API編" target="_blank">Cosmos DB 入門 multi model multi API編</a> </strong> from <strong><a target="_blank" href="https://www.slideshare.net/takekazuomi">Takekazu Omi</a></strong> </div>


まえふり
========

BUILD 2017 で突然発表された、Cosmos DB [#r1]_ は、「Cosmos DB = DocumentDB + multi-model and multi-API」のような感じだと言えます。multi-model and multi-APIの一つとしてDocumentDBがあるという位置づけです。

.. figure:: cosmos01.png
   :alt: Cosmos DB DocumentDB
   :align: center

Multi-model and multi-APIとは
=============================

今のところ、ModelとしてはKey-Vale, Docuemnt, Graph。APIとしては
DocumentDB, MongoDB, Table storage, Gremlin Graphが出てきていて。それ
ぞれ、Key-Valueを扱う、Table storage、Documentを扱う、DocumentDB,
MongoDB API、Graphを扱うGremlin APIという関連になっている。

Cosmos DBからのメッセージ

.. figure:: cosmos02.png
   :alt: Cosmos DB overview multi
   :align: center

ざっとまとめると、こんな感じだ「データベースエンジンは、複数のモデルを
扱えるような構成になっている、エンジンはコアタイプモデル(ARS)を扱う、
APIのモデルとARSは効率良く変換でき、ARSは動的型付け言語からネイティブ
にアクセスできる。atom-record-sequence(ARS)は、プリミティブ型(atom)、
構造体(record)、配列(sequence)で構成される。配列には、atom, record,
sequence が入る」 [#ref1]_

ここで重要なのは、データベースエンジンは特定のモデルやAPIを前提とした
ものでは無く、コアタイプシステム（ARS）はネストした構成を取り
（sequenceの要素にsequenceを含む）、動的型付け言語 [#ref2]_ からのネイ
ティブアクセスの経路を持つということだ。





.. code:: posh


.. [#ref1] A Multi-Model, Multi-API Database Service の付近 `A technical overview of Azure Cosmos DB <https://azure.microsoft.com/en-us/blog/a-technical-overview-of-azure-cosmos-db/>`_
.. [#ref2] `Running JavaScript in Azure DocumentDB with Chakra <https://azure.microsoft.com/en-us/blog/the-road-ahead-for-azure-documentdb-with-chakracore/>`_


.. author:: default
.. categories:: none
.. tags:: none
